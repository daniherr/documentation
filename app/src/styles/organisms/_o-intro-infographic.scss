/*=============================================
=              Intro Infographic              =
=============================================*/

.o-intro-infographic {
  position: relative;
}

.o-intro-infographic__stage {
  position: relative;
  border: 4px solid $purple;
  border-radius: 40px;
  height: 76rem;
  overflow: hidden;
  z-index: 1;
}

.o-intro-infographic__stage-inner {
  position: absolute;
  top: 0;
  height: calc(50% - 15rem);
  width: 100%;

  @include breakpoint($sm) {
    height: calc(50% - 16rem);
  }

  @include breakpoint($md) {
    height: calc(100% - 16rem);
  }

  @include breakpoint($md) {
    width: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

.o-intro-infographic__label {
  width: 100%;

  .a-button {
    font-size: 1.1rem;

    @include breakpoint($xs) {
      font-size: 1.2rem;
    }

    @include breakpoint($sm) {
      font-size: 1.4rem;
    }

    @include breakpoint($md) {
      font-size: 1.3rem;
    }

    @include breakpoint($lg) {
      font-size: 1.5rem;
    }

    @include breakpoint($xl) {
      font-size: 1.6rem;
    }
  }

  @include breakpoint($md - 1, max-width) {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }

  @include breakpoint($md) {
    position: relative;
    top: 1rem;
  }
}

.o-intro-infographic__stage-inner--left {
  left: 0;

  @include breakpoint($md - 1, max-width) {
    top: 16rem;
  }

  @include breakpoint($sm - 1, max-width) {
    top: 15rem;
  }

  .o-intro-infographic__label {

    @include breakpoint($md - 1, max-width) {
      top: 2rem;
    }

    .a-button {
      background-color: $off-white;
    }
  }
}

.o-intro-infographic__stage-inner--right {
  right: 0;

  @include breakpoint($md - 1, max-width) {
    top: 50%;
  }

  .o-intro-infographic__label {

    @include breakpoint($md - 1, max-width) {
      bottom: 2rem;
    }
  }
}

.o-intro-infographic__text-wrap {
  padding: $padding-xs;
  position: absolute;
  width: 100%;
  height: 15rem;
  display: flex;
  align-items: center;
  justify-content: center;

  @include breakpoint($sm) {
    height: 16rem;
  }

  @include breakpoint($md) {
    width: 50%;
  }

  .o-intro-infographic__text {
    margin: 0 auto;
    max-width: 30rem;
    font-size: 1.3rem;

    @include breakpoint($xs) {
      max-width: 33rem;
      font-size: 1.4rem;
    }

    @include breakpoint($sm) {
      max-width: 45rem;
      font-size: 1.4rem;
    }

    @include breakpoint($md) {
      max-width: 30rem;
      font-size: 1.3rem;
    }

    @include breakpoint($lg) {
      max-width: 45rem;
      font-size: 1.5rem;
    }

    @include breakpoint($xl) {
      max-width: 50rem;
      font-size: 1.6rem;
    }
  }
}

.o-intro-infographic__text-wrap--left {
  top: 0;
  left: 0;
  background-color: $x-light-purple;
  color: $purple;
  border-bottom: 4px solid $purple;

  @include breakpoint($md) {
    top: auto;
    bottom: 0;
    border-bottom: none;
    border-top: 4px solid $purple;
  }
}

.o-intro-infographic__text-wrap--right {
  bottom: 0;
  right: 0;
  background-color: $purple;
  color: $text-white;
  border-top: 4px solid $purple;
}

.o-intro-infographic__image {
  position: absolute;
  top: 49%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  overflow: hidden;

  @include breakpoint($md) {
    top: 41%;
  }
}

.o-intro-infographic__items {
  position: relative;

	&:after {
    content: "";
    display: block;
		background: $off-white url('../images/1.4/icons/malware-icon.svg') no-repeat;
		position: absolute;
		top: 270px;
		left: 50%;
		width: 80px;
		height: 89px;
		margin-left: -35px;
    background-size: 100% auto;

    @include breakpoint($md - 1, max-width) {
      top: 50%;
			width: 60px;
			height: 67px;
			background-size: 100% auto;
			background-position: center;
			margin: -41px 0 0 -33px;
    }
	}
}

/*----------  Old Way  ----------*/

.o-intro-infographic__oldway {
	float: left;
	width: 50%;
  overflow: hidden;

  @include breakpoint($md - 1, max-width) {
    width: 100%;
    float: none;
  }

	.o-intro-infographic__sin {
		height: 630px;
		background: $off-white;
		position: relative;
    transition: all .3s ease-out;

    @include breakpoint($md - 1, max-width) {
      height: auto;
      padding-bottom: 200px;
    }

    &.is-animated {

      .o-intro-infographic__ball {

        span {
          opacity: 1;
          transform: scale(1);
        }

        &:before {
          width: 230px;
        }
      }
    }

    &.is-green {

      .o-intro-infographic__ball {

        span {
          background: $green;
        }
      }
    }
  }

	.o-intro-infographic__ball {
		width: 20px;
		height: 20px;
		position: absolute;
		top: 50%;
		margin-top: -10px;
    right: 230px;

    @include breakpoint(1450px, max-width) {
      right: 150px;
    }

    @include breakpoint($xl - 1, max-width) {
      right: 100px;
    }

    @include breakpoint($md - 1, max-width) {
      right: auto;
      left: 50%;
      margin-left: -10px;
      bottom: 100px;
      top: auto;
      margin-top: auto;
    }

		span {
      @include abs-center;
			border-radius: 100%;
			background: $grey;
			display: block;
			transition: opacity .5s ease-out, transform	.3s cubic-bezier(0.625, 0.445, 0.700, 1.650), background .5s ease-out;
			opacity: 0;
			transform: scale(.1);
    }

		&:before {
			content: '';
			display: block;
			height: 2px;
			width: 230px;
			background: $light-grey;
			top: 50%;
			margin-top: -1px;
			left: 50%;
			position: absolute;
      transition: all 1s ease-out;
      width: 0;

      @include breakpoint($md - 1, max-width) {
        transform-origin: 0;
        transform: rotate(90deg);
      }
		}
  }
}

/*----------  PolySwarm Way  ----------*/

.o-intro-infographic__swarmway {
	float: left;
	width: 50%;
  overflow: hidden;

  @include breakpoint($md - 1, max-width) {
    width: 100%;
    float: none;
  }

	.o-intro-infographic__sin {
		height: 630px;
		background: $off-white;
		position: relative;
    transition: all .3s ease-out;

    @include breakpoint($md - 1, max-width) {
      height: auto;
      padding-top: 200px;
    }

    &.is-animated {

      .o-intro-infographic__ball {

        span {
          opacity: 1;
          transform: scale(1);
        }

        // Staggered animations
        &:nth-child(1) { &:before { width: 230px; } }
        &:nth-child(2) { &:before { width: 126px; } }
        &:nth-child(3) { &:before { width: 175px; } }
        &:nth-child(4) { &:before { width: 240px; } }
        &:nth-child(5) { &:before { width: 320px; } }
        &:nth-child(6) { &:before { width: 375px; } }
        &:nth-child(7) { transition-delay: 1.5; &:before { width: 250px;  } }
        &:nth-child(8) { transition-delay: 2.0; &:before { width: 410px;  } }
        &:nth-child(9) { transition-delay: 1.8; &:before { width: 335px;  } }
        &:nth-child(10) { transition-delay: 2.5; &:before { width: 375px;  } }
        &:nth-child(11) { transition-delay: .4; &:before { width: 430px;  } }
        &:nth-child(12) { transition-delay: 1.2; &:before { width: 503px;  } }
        &:nth-child(13) { transition-delay: 2.4; &:before { width: 370px;  } }
        &:nth-child(14) { transition-delay: 2.2; &:before { width: 450px;  } }
        &:nth-child(15) { transition-delay: .9; &:before { width: 415px;  } }
        &:nth-child(16) { transition-delay: 1.6; &:before { width: 480px;  } }
        &:nth-child(17) { transition-delay: .2; &:before { width: 390px;  } }
        &:nth-child(18) { transition-delay: 1.1; &:before { width: 300px;  } }
        &:nth-child(19) { transition-delay: .7; &:before { width: 325px;  } }
        &:nth-child(20) { transition-delay: 2.1; &:before { width: 380px;  } }
        &:nth-child(21) { transition-delay: .5; &:before { width: 310px;  } }
        &:nth-child(22) { transition-delay: 1.3; &:before { width: 180px;  } }
        &:nth-child(23) { transition-delay: 1.7; &:before { width: 120px;  } }

        &:nth-child(24) { transition-delay: .8; &:before { width: 340px; } }
        &:nth-child(25) { transition-delay: 1.4; &:before { width: 340px; } }
      }
    }

    &.is-green {

      .o-intro-infographic__ball {
        &:nth-child(6) { span { background: $green; } }
        &:nth-child(7) { span { background: $green; } }
        &:nth-child(8) { span { background: $green; } }
      }
    }

    &.is-red {

      .o-intro-infographic__ball {

        span {
          background: $red !important;
        }

        &:nth-child(6) { span { background: $green !important; } }
        &:nth-child(7) { span { background: $green !important; } }
        &:nth-child(8) { span { background: $green !important; } }
      }
    }
  }

	.o-intro-infographic__ball {
		width: 20px;
		height: 20px;
		position: absolute;
		top: 50%;
		margin-top: -10px;
    left: 230px;

    @include breakpoint($md - 1, max-width) {
      top: -10px;
      margin-top: 0;
      left: 50% !important;
      display: none;
    }

		span {
			@include abs-center;
			border-radius: 100%;
			background: $purple;
			display: block;
			transition: opacity .5s ease-out, transform	.3s cubic-bezier(0.625, 0.445, 0.700, 1.650), background .5s ease-out;
			opacity: 0;
			transform: scale(.1);
    }

		&:before {
      content: '';
			display: block;
			height: 2px;
			width: 230px;
			background: $light-purple;
			top: 50%;
			margin-top: -1px;
			right: 50%;
			position: absolute;
			transition: all 1s ease-out;
			width: 0;
    }

    // Staggered animations
		&:nth-child(1) { width: 16px; height: 16px; transform-origin: -230px 50%; transform: rotate(-82deg); }
		&:nth-child(2) { width: 26px; height: 26px; transform-origin: -126px 50%; transform: rotate(-74deg); left: 126px; }
		&:nth-child(3) { width: 20px; height: 20px; transform-origin: -175px 50%; transform: rotate(-62deg); left: 175px; }
		&:nth-child(4) { width: 20px; height: 20px; transform-origin: -240px 50%; transform: rotate(-56deg); left: 240px; }
		&:nth-child(5) { width: 26px; height: 26px; transform-origin: -320px 50%; transform: rotate(-50deg); left: 320px; }
		&:nth-child(6) { width: 20px; height: 20px; transform-origin: -375px 50%; transform: rotate(-40deg); left: 375px; }
		&:nth-child(7) { width: 26px; height: 26px; transform-origin: -250px 50%; transform: rotate(-35deg); left: 250px; }
		&:nth-child(8) { width: 20px; height: 20px; transform-origin: -410px 50%; transform: rotate(-27deg); left: 410px; }
		&:nth-child(9) { width: 20px; height: 20px; transform-origin: -335px 50%; transform: rotate(-20deg); left: 335px; }
		&:nth-child(10) { width: 20px; height: 20px; transform-origin: -375px 50%; transform: rotate(-15deg); left: 375px; }
		&:nth-child(11) { width: 18px; height: 18px; transform-origin: -430px 50%; transform: rotate(-8deg); left: 430px; }
		&:nth-child(12) { width: 22px; height: 22px; transform-origin: -503px 50%; transform: rotate(8deg); left: 503px; }
		&:nth-child(13) { width: 20px; height: 20px; transform-origin: -370px 50%; transform: rotate(13deg); left: 370px; }
		&:nth-child(14) { width: 21px; height: 21px; transform-origin: -450px 50%; transform: rotate(16deg); left: 450px; }
		&:nth-child(15) { width: 22px; height: 22px; transform-origin: -415px 50%; transform: rotate(19deg); left: 415px; }
		&:nth-child(16) { width: 20px; height: 20px; transform-origin: -480px 50%; transform: rotate(23deg); left: 480px; }
		&:nth-child(17) { width: 20px; height: 20px; transform-origin: -390px 50%; transform: rotate(26deg); left: 390px; }
		&:nth-child(18) { width: 16px; height: 16px; transform-origin: -300px 50%; transform: rotate(30deg); left: 300px; }
		&:nth-child(19) { width: 16px; height: 16px; transform-origin: -326px 50%; transform: rotate(35deg); left: 325px; }
		&:nth-child(20) { width: 25px; height: 25px; transform-origin: -380px 50%; transform: rotate(40deg); left: 380px; }
		&:nth-child(21) { width: 22px; height: 22px; transform-origin: -310px 50%; transform: rotate(45deg); left: 310px; }
		&:nth-child(22) { width: 18px; height: 18px; transform-origin: -180px 50%; transform: rotate(60deg); left: 180px; }
		&:nth-child(23) { width: 26px; height: 26px; transform-origin: -120px 50%; transform: rotate(75deg); left: 120px; }
		&:nth-child(24) { width: 16px; height: 16px; transform-origin: -340px 50%; transform: rotate(-2deg); left: 340px; }
		&:nth-child(25) { width: 16px; height: 16px; transform-origin: -340px 50%; transform: rotate(2deg); left: 340px; }

		&:nth-child(1) span { transition-delay: .1s; }
		&:nth-child(2) span { transition-delay: 1.3s; }
		&:nth-child(3) span { transition-delay: 1.9s; }
		&:nth-child(4) span { transition-delay: 1s; }
		&:nth-child(5) span { transition-delay: .3s; }
		&:nth-child(6) span { transition-delay: .6s; }
		&:nth-child(7) span { transition-delay: 1s; }
		&:nth-child(8) span { transition-delay: .7s; }
		&:nth-child(9) span { transition-delay: 1.8s; }
		&:nth-child(10) span { transition-delay: 1.5s;}
		&:nth-child(11) span { transition-delay: .4s; }
		&:nth-child(12) span { transition-delay: 1.2s; }
		&:nth-child(13) span { transition-delay: 1.4s; }
		&:nth-child(14) span { transition-delay: 1.2s; }
		&:nth-child(15) span { transition-delay: .9s; }
		&:nth-child(16) span { transition-delay: 1.6s;}
		&:nth-child(17) span { transition-delay: .2s; }
		&:nth-child(18) span { transition-delay: 1.1s;}
		&:nth-child(19) span { transition-delay: .7s; }
		&:nth-child(20) span { transition-delay: 1.1s;}
		&:nth-child(21) span { transition-delay: .5s; }
		&:nth-child(22) span { transition-delay: 1.3s; }
		&:nth-child(23) span { transition-delay: 1.7s; }
		&:nth-child(24) span { transition-delay: .8s; }
		&:nth-child(25) span { transition-delay: 1.4s; }

		&:nth-child(1):before { transition-delay: .1s; }
		&:nth-child(2):before { transition-delay: 1.3s; }
		&:nth-child(3):before { transition-delay: 1.9s; }
		&:nth-child(4):before { transition-delay: 1s; }
		&:nth-child(5):before { transition-delay: .3s; }
		&:nth-child(6):before { transition-delay: .6s; }
		&:nth-child(7):before { transition-delay: 1s; }
		&:nth-child(8):before { transition-delay: .7s; }
		&:nth-child(9):before { transition-delay: 1.8s; }
		&:nth-child(10):before { transition-delay: 1.5s;}
		&:nth-child(11):before { transition-delay: .4s; }
		&:nth-child(12):before { transition-delay: 1.2s; }
		&:nth-child(13):before { transition-delay: 1.4s; }
		&:nth-child(14):before { transition-delay: 1.2s; }
		&:nth-child(15):before { transition-delay: .9s; }
		&:nth-child(16):before { transition-delay: 1.6s;}
		&:nth-child(17):before { transition-delay: .2s; }
		&:nth-child(18):before { transition-delay: 1.1s;}
		&:nth-child(19):before { transition-delay: .7s; }
		&:nth-child(20):before { transition-delay: 1.1s;}
		&:nth-child(21):before { transition-delay: .5s; }
		&:nth-child(22):before { transition-delay: 1.3s; }
		&:nth-child(23):before { transition-delay: 1.7s; }
		&:nth-child(24):before { transition-delay: .8s; }
    &:nth-child(25):before { transition-delay: 1.4s; }

    &:nth-child(1) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 100px;
        transform-origin: -100px 50%;
        transform: rotate(10deg);
      }
    }

    &:nth-child(2) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 120px;
        transform-origin: -120px 50%;
        transform: rotate(18deg);
      }
    }

    &:nth-child(3) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 160px;
        transform-origin: -160px 50%;
        transform: rotate(34deg);
      }
    }

    &:nth-child(4) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 120px;
        transform-origin: -120px 50%;
        transform: rotate(44deg);
      }
    }

    &:nth-child(5) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 100px;
        transform-origin: -100px 50%;
        transform: rotate(60deg);
      }
    }

    &:nth-child(6) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 80px;
        transform-origin: -80px 50%;
        transform: rotate(75deg);
      }
    }

    &:nth-child(7) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 100px;
        transform-origin: -100px 50%;
        transform: rotate(92deg);
      }
    }

    &:nth-child(8) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 70px;
        transform-origin: -70px 50%;
        transform: rotate(105deg);
      }
    }

    &:nth-child(9) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 120px;
        transform-origin: -120px 50%;
        transform: rotate(125deg);
      }
    }

    &:nth-child(10) {

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 160px;
        transform-origin: -160px 50%;
        transform: rotate(133deg);
      }
    }

    &:nth-child(11) {

      @include breakpoint($lg - 1, max-width) {
        left: 320px;
        transform-origin: -320px 50%;
      }

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 140px;
        transform-origin: -140px 50%;
        transform: rotate(145deg);
      }
    }

    &:nth-child(12) {

      @include breakpoint($xl - 1, max-width) {
        left: 450px;
        transform-origin: -450px 50%;
      }

      @include breakpoint($lg - 1, max-width) {
        left: 310px;
        transform-origin: -310px 50%;
      }

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 100px;
        transform-origin: -100px 50%;
        transform: rotate(160deg);
      }

      @include breakpoint($md - 1, max-width) {
        display: block;
        margin-left: 140px;
        transform-origin: -140px 50%;
        transform: rotate(170deg);
      }
    }

    &:nth-child(14) {

      @include breakpoint($lg - 1, max-width) {
        left: 300px;
        transform-origin: -300px 50%;
      }
    }

    &:nth-child(15) {

      @include breakpoint($lg - 1, max-width) {
        left: 360px;
        transform-origin: -360px 50%;
      }
    }

    &:nth-child(16) {

      @include breakpoint($lg - 1, max-width) {
        left: 330px;
        transform-origin: -330px 50%;
      }
    }

    &:nth-child(24) {

      @include breakpoint($xl - 1, max-width) {
        left: 300px;
        transform-origin: -300px 50%;
      }
    }

    &:nth-child(25) {

      @include breakpoint($xl - 1, max-width) {
        left: 300px;
        transform-origin: -300px 50%;
      }
    }
  }
}
